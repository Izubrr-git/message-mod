# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Message Mod

## üìê –û–±—â–∞—è —Å—Ö–µ–º–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         –ö–õ–ò–ï–ù–¢                              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê               ‚îÇ
‚îÇ  ‚îÇMessageScreen ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  Protobuf        ‚îÇ               ‚îÇ
‚îÇ  ‚îÇ (GUI)        ‚îÇ      ‚îÇ  –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è    ‚îÇ               ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò               ‚îÇ
‚îÇ         ‚îÇ                       ‚îÇ                           ‚îÇ
‚îÇ         ‚îÇ                       ‚ñº                           ‚îÇ
‚îÇ         ‚îÇ              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                ‚îÇ
‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  NetworkHandler  ‚îÇ                ‚îÇ
‚îÇ                        ‚îÇ  (Client‚ÜíServer) ‚îÇ                ‚îÇ
‚îÇ                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îÇ
‚îÇ                                ‚îÇ                            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                 ‚îÇ
                        ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ñº‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
                        ‚ïë   NETWORK LAYER  ‚ïë
                        ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ñº‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
                                 ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         –°–ï–†–í–ï–† ‚îÇ                            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                 ‚ñº                           ‚îÇ
‚îÇ                        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                ‚îÇ
‚îÇ                        ‚îÇ  NetworkHandler  ‚îÇ                ‚îÇ
‚îÇ                        ‚îÇ  (Packet Handler)‚îÇ                ‚îÇ
‚îÇ                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îÇ
‚îÇ                                 ‚îÇ                           ‚îÇ
‚îÇ                                 ‚ñº                           ‚îÇ
‚îÇ                        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                ‚îÇ
‚îÇ                        ‚îÇ Protobuf         ‚îÇ                ‚îÇ
‚îÇ                        ‚îÇ –î–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è   ‚îÇ                ‚îÇ
‚îÇ                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                ‚îÇ
‚îÇ                                 ‚îÇ                           ‚îÇ
‚îÇ                                 ‚ñº                           ‚îÇ
‚îÇ                   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê              ‚îÇ
‚îÇ                   ‚îÇ  DatabaseManager        ‚îÇ              ‚îÇ
‚îÇ                   ‚îÇ  (Hibernate)            ‚îÇ              ‚îÇ
‚îÇ                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò              ‚îÇ
‚îÇ                                 ‚îÇ                           ‚îÇ
‚îÇ                                 ‚ñº                           ‚îÇ
‚îÇ                   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê              ‚îÇ
‚îÇ                   ‚îÇ  MessageRepository      ‚îÇ              ‚îÇ
‚îÇ                   ‚îÇ  (CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏)        ‚îÇ              ‚îÇ
‚îÇ                   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò              ‚îÇ
‚îÇ                                 ‚îÇ                           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                  ‚îÇ
                                  ‚ñº
                        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                        ‚îÇ   PostgreSQL     ‚îÇ
                        ‚îÇ   –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö    ‚îÇ
                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üèóÔ∏è –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### 1. –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å

#### `MessageModClient.java`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π —á–∞—Å—Ç–∏ –º–æ–¥–∞

**–û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏:**
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–µ–π–±–∏–Ω–¥–∞ (–∫–ª–∞–≤–∏—à–∞ M)
- –û—Ç–∫—Ä—ã—Ç–∏–µ GUI —ç–∫—Ä–∞–Ω–∞ –ø–æ –Ω–∞–∂–∞—Ç–∏—é –∫–ª–∞–≤–∏—à–∏
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

**–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª:**
```
–ó–∞–ø—É—Å–∫ –∫–ª–∏–µ–Ω—Ç–∞ ‚Üí onInitializeClient() ‚Üí –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–µ–π–±–∏–Ω–¥–∞ ‚Üí 
–ò–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–∂–∞—Ç–∏—è –∫–ª–∞–≤–∏—à–∏ ‚Üí –û—Ç–∫—Ä—ã—Ç–∏–µ GUI
```

#### `MessageScreen.java`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** GUI —ç–∫—Ä–∞–Ω –¥–ª—è –≤–≤–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `TextFieldWidget` - –ø–æ–ª–µ –≤–≤–æ–¥–∞ —Ç–µ–∫—Å—Ç–∞ (–º–∞–∫—Å. 256 —Å–∏–º–≤–æ–ª–æ–≤)
- `ButtonWidget` (–û—Ç–ø—Ä–∞–≤–∏—Ç—å) - –∫–Ω–æ–ø–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏
- `ButtonWidget` (–û—Ç–º–µ–Ω–∞) - –∫–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è

**–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã:**
```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç —Ç–µ–∫—Å—Ç
2. –ù–∞–∂–∏–º–∞–µ—Ç "–û—Ç–ø—Ä–∞–≤–∏—Ç—å" –∏–ª–∏ Enter
3. –¢–µ–∫—Å—Ç –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è (–Ω–µ –ø—É—Å—Ç–æ–π)
4. –°–æ–∑–¥–∞–µ—Ç—Å—è Protobuf —Å–æ–æ–±—â–µ–Ω–∏–µ
5. –°–æ–æ–±—â–µ–Ω–∏–µ —Å–µ—Ä–∏–∞–ª–∏–∑—É–µ—Ç—Å—è –≤ –±–∞–π—Ç—ã
6. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ ClientPlayNetworking
7. –≠–∫—Ä–∞–Ω –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è
```

**–ú–µ—Ç–æ–¥—ã –æ—Ç—Ä–∏—Å–æ–≤–∫–∏:**
- `render()` - –æ—Å–Ω–æ–≤–Ω–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞
- `keyPressed()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- `charTyped()` - –≤–≤–æ–¥ —Å–∏–º–≤–æ–ª–æ–≤
- `mouseClicked()` - –∫–ª–∏–∫–∏ –º—ã—à–∏

---

### 2. –°–µ—Ç–µ–≤–æ–π —Å–ª–æ–π

#### `NetworkHandler.java`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞—á–µ–π –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –∫–ª–∏–µ–Ω—Ç–æ–º –∏ —Å–µ—Ä–≤–µ—Ä–æ–º

**–î–≤–µ —Å—Ç–æ—Ä–æ–Ω—ã:**

##### –ö–ª–∏–µ–Ω—Ç (–æ—Ç–ø—Ä–∞–≤–∫–∞):
```java
ClientPlayNetworking.send(new MessagePayload(protoBytes));
```

##### –°–µ—Ä–≤–µ—Ä (–ø—Ä–∏–µ–º):
```java
ServerPlayNetworking.registerGlobalReceiver(MessagePayload.ID, handler)
```

**MessagePayload:**
```java
public record MessagePayload(byte[] data) implements CustomPayload {
    // –°–æ–¥–µ—Ä–∂–∏—Ç —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ Protobuf –¥–∞–Ω–Ω—ã–µ
}
```

**Codec –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏:**
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–ª–∏–Ω—É –º–∞—Å—Å–∏–≤–∞ (VarInt)
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –±–∞–π—Ç—ã Protobuf —Å–æ–æ–±—â–µ–Ω–∏—è
- –ü—Ä–∏ —á—Ç–µ–Ω–∏–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ

**–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–∞–∫–µ—Ç–∞:**
```
messagemod:message
```

---

### 3. Protobuf —Å–ª–æ–π

#### `message.proto`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏

```protobuf
syntax = "proto3";

message Message {
  string text = 1;
}
```

**–ü–æ—á–µ–º—É Protobuf?**
- ‚úÖ –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –±–∏–Ω–∞—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
- ‚úÖ –ë—ã—Å—Ç—Ä–∞—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
- ‚úÖ –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- ‚úÖ –í–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)
- ‚úÖ –ö—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å

**–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª–∞—Å—Å–æ–≤:**
```
message.proto ‚Üí protoc ‚Üí MessageProto.java
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```java
// –°–æ–∑–¥–∞–Ω–∏–µ
Message msg = Message.newBuilder()
    .setText("Hello")
    .build();

// –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
byte[] bytes = msg.toByteArray();

// –î–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
Message parsed = Message.parseFrom(bytes);
```

---

### 4. –°–µ—Ä–≤–µ—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞

#### `MessageMod.java`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å –º–æ–¥–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

**–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª:**
```
onInitialize()
    ‚Üì
–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è NetworkHandler
    ‚Üì
SERVER_STARTING event
    ‚Üì
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è DatabaseManager
    ‚Üì
–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
    ‚Üì
–ò–≥—Ä–æ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å (–æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞–∫–µ—Ç–æ–≤)
    ‚Üì
SERVER_STOPPING event
    ‚Üì
–ó–∞–∫—Ä—ã—Ç–∏–µ DatabaseManager
```

**–°–æ–±—ã—Ç–∏—è:**
- `SERVER_STARTING` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
- `SERVER_STOPPING` - graceful shutdown –ë–î

---

### 5. –°–ª–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

#### `DatabaseManager.java`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** Singleton –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Hibernate SessionFactory

**–ü–∞—Ç—Ç–µ—Ä–Ω:** Singleton

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `initialize()` - —Å–æ–∑–¥–∞–Ω–∏–µ SessionFactory
- `getSessionFactory()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ñ–∞–±—Ä–∏–∫–∏
- `isInitialized()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- `shutdown()` - –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–ü—Ä–æ—Ü–µ—Å—Å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:**
```
1. –ó–∞–≥—Ä—É–∑–∫–∞ hibernate.cfg.xml
2. –°–æ–∑–¥–∞–Ω–∏–µ Configuration
3. –°–æ–∑–¥–∞–Ω–∏–µ ServiceRegistry
4. –°–æ–∑–¥–∞–Ω–∏–µ SessionFactory
```

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º:**
```
Server Start ‚Üí initialize() ‚Üí SessionFactory —Å–æ–∑–¥–∞–Ω–∞
    ‚Üì
–†–∞–±–æ—Ç–∞ —Å –ë–î (—á–µ—Ä–µ–∑ Repository)
    ‚Üì
Server Stop ‚Üí shutdown() ‚Üí SessionFactory –∑–∞–∫—Ä—ã—Ç–∞
```

#### `MessageEntity.java`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** JPA Entity –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã messages

**–ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏:**
- `@Entity` - –ø–æ–º–µ—á–∞–µ—Ç –∫–∞–∫ —Å—É—â–Ω–æ—Å—Ç—å
- `@Table(name = "messages")` - –∏–º—è —Ç–∞–±–ª–∏—Ü—ã
- `@Id` - –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á
- `@GeneratedValue` - –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è ID
- `@Column` - –º–∞–ø–ø–∏–Ω–≥ —Å—Ç–æ–ª–±—Ü–æ–≤

**–ü–æ–ª—è:**
```java
Long id          ‚Üí SERIAL PRIMARY KEY
UUID uuid        ‚Üí UUID NOT NULL
String text      ‚Üí VARCHAR(256) NOT NULL
```

**Hibernate –º–∞–ø–ø–∏–Ω–≥:**
```
Java Entity ‚Üê‚Üí PostgreSQL Table
     ‚Üì              ‚Üì
MessageEntity  ‚Üê‚Üí  messages
```

#### `MessageRepository.java`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–ª–æ–π –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º (DAO)

**–ü–∞—Ç—Ç–µ—Ä–Ω:** Repository Pattern

**–ú–µ—Ç–æ–¥—ã:**
- `save(UUID, String)` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è
- `findById(Long)` - –ø–æ–∏—Å–∫ –ø–æ ID
- `testConnection()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

**–ü—Ä–æ—Ü–µ—Å—Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:**
```
1. –ù–∞—á–∞–ª–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (beginTransaction)
2. –°–æ–∑–¥–∞–Ω–∏–µ MessageEntity
3. –í—ã–∑–æ–≤ session.persist(entity)
4. Commit —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
5. Hibernate –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç SQL INSERT
6. –í–æ–∑–≤—Ä–∞—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç–∏ —Å ID
```

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
- Try-catch –±–ª–æ–∫
- Rollback –ø—Ä–∏ –æ—à–∏–±–∫–µ
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ SLF4J
- –í—ã–±—Ä–æ—Å RuntimeException —Å –¥–µ—Ç–∞–ª—è–º–∏

---

## üîÑ –ü–æ–ª–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

### –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è (–æ—Ç GUI –¥–æ –ë–î):

```
1. –ö–õ–ò–ï–ù–¢ - GUI
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç: "Hello World" ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ MessageScreen.onSendButtonPressed() ‚îÇ
   ‚îÇ - –í–∞–ª–∏–¥–∞—Ü–∏—è (–Ω–µ –ø—É—Å—Ç–æ–µ)             ‚îÇ
   ‚îÇ - textField.getText()               ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì

2. –ö–õ–ò–ï–ù–¢ - Protobuf —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ Message.newBuilder()                ‚îÇ
   ‚îÇ   .setText("Hello World")           ‚îÇ
   ‚îÇ   .build()                          ‚îÇ
   ‚îÇ   .toByteArray()                    ‚îÇ
   ‚îÇ                                     ‚îÇ
   ‚îÇ –†–µ–∑—É–ª—å—Ç–∞—Ç: [10, 11, 72, 101, ...]  ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì

3. –ö–õ–ò–ï–ù–¢ - –û—Ç–ø—Ä–∞–≤–∫–∞ –ø–æ —Å–µ—Ç–∏
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ ClientPlayNetworking.send(          ‚îÇ
   ‚îÇ   new MessagePayload(bytes)         ‚îÇ
   ‚îÇ )                                   ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì
        ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        ‚ïë –°–ï–¢–ï–í–û–ô –ö–ê–ù–ê–õ  ‚ïë
        ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
                    ‚Üì

4. –°–ï–†–í–ï–† - –ü—Ä–∏–µ–º –ø–∞–∫–µ—Ç–∞
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ ServerPlayNetworking.receive(       ‚îÇ
   ‚îÇ   payload, context                  ‚îÇ
   ‚îÇ )                                   ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì

5. –°–ï–†–í–ï–† - Protobuf –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ Message.parseFrom(payload.data())   ‚îÇ
   ‚îÇ                                     ‚îÇ
   ‚îÇ –†–µ–∑—É–ª—å—Ç–∞—Ç: Message{text="Hello..."}‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì

6. –°–ï–†–í–ï–† - –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ String text = message.getText()     ‚îÇ
   ‚îÇ UUID uuid = player.getUuid()        ‚îÇ
   ‚îÇ                                     ‚îÇ
   ‚îÇ text: "Hello World"                 ‚îÇ
   ‚îÇ uuid: 550e8400-e29b-41d4-...        ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì

7. –°–ï–†–í–ï–† - –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ MessageRepository.save(uuid, text)  ‚îÇ
   ‚îÇ                                     ‚îÇ
   ‚îÇ - –°–æ–∑–¥–∞–Ω–∏–µ MessageEntity            ‚îÇ
   ‚îÇ - –ù–∞—á–∞–ª–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏                 ‚îÇ
   ‚îÇ - session.persist(entity)           ‚îÇ
   ‚îÇ - commit()                          ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì

8. HIBERNATE - SQL –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ INSERT INTO messages                ‚îÇ
   ‚îÇ   (uuid, text)                      ‚îÇ
   ‚îÇ VALUES                              ‚îÇ
   ‚îÇ   ('550e8400...', 'Hello World')    ‚îÇ
   ‚îÇ RETURNING id;                       ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì

9. POSTGRESQL - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ –¢–∞–±–ª–∏—Ü–∞: messages                   ‚îÇ
   ‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ
   ‚îÇ ‚îÇ id ‚îÇ uuid         ‚îÇ text         ‚îÇ‚îÇ
   ‚îÇ ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§‚îÇ
   ‚îÇ ‚îÇ 42 ‚îÇ 550e8400-... ‚îÇ Hello World  ‚îÇ‚îÇ
   ‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    ‚Üì

10. –°–ï–†–í–ï–† - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç—É
   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ player.sendMessage(                 ‚îÇ
   ‚îÇ   "¬ßa–°–æ–æ–±—â–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ!"          ‚îÇ
   ‚îÇ )                                   ‚îÇ
   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Fabric API
- **Networking**: –û—Ç–ø—Ä–∞–≤–∫–∞ custom payloads
- **Lifecycle Events**: –•—É–∫–∏ –∑–∞–ø—É—Å–∫–∞/–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
- **Client Tick Events**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∞–≤–∏—à

### Protobuf
- **–í–µ—Ä—Å–∏—è**: 3.25.1
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: –ö–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç—å, —Å–∫–æ—Ä–æ—Å—Ç—å, —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è**: Gradle –ø–ª–∞–≥–∏–Ω `com.google.protobuf`

### Hibernate ORM
- **–í–µ—Ä—Å–∏—è**: 6.4.1
- **–†–µ–∂–∏–º**: –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º—ã (hbm2ddl.auto = update)
- **–ü—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π**: HikariCP (5-20 connections)
- **–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏**: –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### PostgreSQL
- **–í–µ—Ä—Å–∏—è**: 12+
- **–¢–∏–ø UUID**: –ù–∞—Ç–∏–≤–Ω—ã–π PostgreSQL UUID
- **–ò–Ω–¥–µ–∫—Å—ã**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ PRIMARY KEY

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

1. **–ö–ª–∏–µ–Ω—Ç:**
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã (256 —Å–∏–º–≤–æ–ª–æ–≤ –≤ TextFieldWidget)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç–æ—Ç—É –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π

2. **–°–µ—Ä–≤–µ—Ä:**
   - –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã
   - –û–±—Ä–µ–∑–∫–∞ –µ—Å–ª–∏ > 256 —Å–∏–º–≤–æ–ª–æ–≤
   - SQL Injection: –∑–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ Hibernate (–ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã)

3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å—Ö–µ–º—ã: `VARCHAR(256)`
   - NOT NULL constraints

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:

```
Try-Catch –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ:
1. GUI ‚Üí –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ + –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
2. Network ‚Üí –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ + —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–≥—Ä–æ–∫—É
3. Repository ‚Üí rollback + exception
4. DatabaseManager ‚Üí –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ + shutdown
```

---

## üöÄ –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π –≤ —Å–æ–æ–±—â–µ–Ω–∏–µ:

1. –ò–∑–º–µ–Ω–∏—Ç—å `.proto`:
   ```protobuf
   message Message {
     string text = 1;
     int32 priority = 2;  // –ù–æ–≤–æ–µ –ø–æ–ª–µ
   }
   ```

2. –û–±–Ω–æ–≤–∏—Ç—å Entity:
   ```java
   @Column(name = "priority")
   private Integer priority;
   ```

3. Hibernate –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç —Å—Ç–æ–ª–±–µ—Ü!

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π:

–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π `.proto` —Ñ–∞–π–ª –∏ –Ω–æ–≤—ã–π CustomPayload.

---

**–≠—Ç–æ complete –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞! –¢–µ–ø–µ—Ä—å —Ç—ã –ø–æ–Ω–∏–º–∞–µ—à—å, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç. üéì‚ú®**
